<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>12 Advanced Text Analysis | DramaAnalysis</title>
  <meta name="description" content="12 Advanced Text Analysis | DramaAnalysis" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="12 Advanced Text Analysis | DramaAnalysis" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="12 Advanced Text Analysis | DramaAnalysis" />
  
  
  

<meta name="author" content="Nils Reiter" />
<meta name="author" content="Janis Pagel" />


<meta name="date" content="2022-12-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="word-field-analysis.html"/>
<link rel="next" href="resterampe.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a></li>
<li class="chapter" data-level="3" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>3</b> Basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="basics.html"><a href="basics.html#r-basics"><i class="fa fa-check"></i><b>3.1</b> R Basics</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="basics.html"><a href="basics.html#variable-assignment"><i class="fa fa-check"></i><b>3.1.1</b> Variable assignment</a></li>
<li class="chapter" data-level="3.1.2" data-path="basics.html"><a href="basics.html#function-calls"><i class="fa fa-check"></i><b>3.1.2</b> Function calls</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="basics.html"><a href="basics.html#magrittr"><i class="fa fa-check"></i><b>3.2</b> magrittr Pipes / <code>%&gt;%</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="quick-start.html"><a href="quick-start.html"><i class="fa fa-check"></i><b>4</b> Quick Start</a></li>
<li class="part"><span><b>I DramaAnalysis</b></span></li>
<li class="chapter" data-level="5" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>5</b> Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data.html"><a href="data.html#origin-tei-xml"><i class="fa fa-check"></i><b>5.1</b> Origin: TEI-XML</a></li>
<li class="chapter" data-level="5.2" data-path="data.html"><a href="data.html#preprocessed-data"><i class="fa fa-check"></i><b>5.2</b> Preprocessed data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data.html"><a href="data.html#sample-data"><i class="fa fa-check"></i><b>5.2.1</b> Sample data</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data.html"><a href="data.html#installing-corpora"><i class="fa fa-check"></i><b>5.3</b> Installing corpora</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data.html"><a href="data.html#data-sources-and-credits"><i class="fa fa-check"></i><b>5.3.1</b> Data sources and credits</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data.html"><a href="data.html#collection-data"><i class="fa fa-check"></i><b>5.4</b> Collection data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data.html"><a href="data.html#defining-collections"><i class="fa fa-check"></i><b>5.4.1</b> Defining collections</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="who-how-much.html"><a href="who-how-much.html"><i class="fa fa-check"></i><b>6</b> Who’s talking how much?</a>
<ul>
<li class="chapter" data-level="6.1" data-path="who-how-much.html"><a href="who-how-much.html#format"><i class="fa fa-check"></i><b>6.1</b> Character names instead of identifiers</a></li>
<li class="chapter" data-level="6.2" data-path="who-how-much.html"><a href="who-how-much.html#stacked-bar-plot"><i class="fa fa-check"></i><b>6.2</b> Stacked bar plot</a></li>
<li class="chapter" data-level="6.3" data-path="who-how-much.html"><a href="who-how-much.html#collection-analysis"><i class="fa fa-check"></i><b>6.3</b> Collection analysis</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="who-how-often.html"><a href="who-how-often.html"><i class="fa fa-check"></i><b>7</b> Who’s talking how often?</a>
<ul>
<li class="chapter" data-level="7.1" data-path="who-how-often.html"><a href="who-how-often.html#when-are-characters-talking"><i class="fa fa-check"></i><b>7.1</b> When are characters talking?</a></li>
<li class="chapter" data-level="7.2" data-path="who-how-often.html"><a href="who-how-often.html#adding-act-boundaries"><i class="fa fa-check"></i><b>7.2</b> Adding act boundaries</a></li>
<li class="chapter" data-level="7.3" data-path="who-how-often.html"><a href="who-how-often.html#who-how-often-collection"><i class="fa fa-check"></i><b>7.3</b> Collection analysis</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>8</b> Configuration</a>
<ul>
<li class="chapter" data-level="8.1" data-path="configuration.html"><a href="configuration.html#matrices"><i class="fa fa-check"></i><b>8.1</b> Matrices</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="configuration.html"><a href="configuration.html#filter"><i class="fa fa-check"></i><b>8.1.1</b> Filtering unimportant characters</a></li>
<li class="chapter" data-level="8.1.2" data-path="configuration.html"><a href="configuration.html#normalization"><i class="fa fa-check"></i><b>8.1.2</b> Normalization</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="configuration.html"><a href="configuration.html#copresence"><i class="fa fa-check"></i><b>8.2</b> Copresence</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="configuration.html"><a href="configuration.html#as-heatmap"><i class="fa fa-check"></i><b>8.2.1</b> As Heatmap</a></li>
<li class="chapter" data-level="8.2.2" data-path="configuration.html"><a href="configuration.html#network"><i class="fa fa-check"></i><b>8.2.2</b> As Network</a></li>
<li class="chapter" data-level="8.2.3" data-path="configuration.html"><a href="configuration.html#network-properties"><i class="fa fa-check"></i><b>8.2.3</b> Network properties</a></li>
<li class="chapter" data-level="8.2.4" data-path="configuration.html"><a href="configuration.html#graph-export"><i class="fa fa-check"></i><b>8.2.4</b> Graph Export</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="character-exchange.html"><a href="character-exchange.html"><i class="fa fa-check"></i><b>9</b> Character Exchange</a>
<ul>
<li class="chapter" data-level="9.1" data-path="character-exchange.html"><a href="character-exchange.html#hamming-distance"><i class="fa fa-check"></i><b>9.1</b> Hamming Distance</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="character-exchange.html"><a href="character-exchange.html#normalizedhamming"><i class="fa fa-check"></i><b>9.1.1</b> NormalizedHamming</a></li>
<li class="chapter" data-level="9.1.2" data-path="character-exchange.html"><a href="character-exchange.html#trilcke"><i class="fa fa-check"></i><b>9.1.2</b> Trilcke</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="character-exchange.html"><a href="character-exchange.html#corpus-analysis"><i class="fa fa-check"></i><b>9.2</b> Corpus Analysis</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="stage-directions.html"><a href="stage-directions.html"><i class="fa fa-check"></i><b>10</b> Stage Directions</a></li>
<li class="chapter" data-level="11" data-path="word-field-analysis.html"><a href="word-field-analysis.html"><i class="fa fa-check"></i><b>11</b> Word Field Analysis</a>
<ul>
<li class="chapter" data-level="11.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#single-word-field"><i class="fa fa-check"></i><b>11.1</b> Single word field</a></li>
<li class="chapter" data-level="11.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#multiple-word-fields"><i class="fa fa-check"></i><b>11.2</b> Multiple Word Fields</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#bar-plot-by-character"><i class="fa fa-check"></i><b>11.2.1</b> Bar plot by character</a></li>
<li class="chapter" data-level="11.2.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#bar-plot-by-field"><i class="fa fa-check"></i><b>11.2.2</b> Bar plot by field</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="word-field-analysis.html"><a href="word-field-analysis.html#dictionary-based-distance"><i class="fa fa-check"></i><b>11.3</b> Dictionary Based Distance</a></li>
<li class="chapter" data-level="11.4" data-path="word-field-analysis.html"><a href="word-field-analysis.html#development-over-the-course-of-the-play"><i class="fa fa-check"></i><b>11.4</b> Development over the course of the play</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#individual-characters"><i class="fa fa-check"></i><b>11.4.1</b> Individual characters</a></li>
<li class="chapter" data-level="11.4.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#comparing-characters"><i class="fa fa-check"></i><b>11.4.2</b> Comparing characters</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="word-field-analysis.html"><a href="word-field-analysis.html#corpus-analysis-1"><i class="fa fa-check"></i><b>11.5</b> Corpus Analysis</a></li>
<li class="chapter" data-level="11.6" data-path="word-field-analysis.html"><a href="word-field-analysis.html#enriching-the-word-fields-distributionally"><i class="fa fa-check"></i><b>11.6</b> Enriching the word fields distributionally</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html"><i class="fa fa-check"></i><b>12</b> Advanced Text Analysis</a>
<ul>
<li class="chapter" data-level="12.1" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html#when-are-characters-mentioned"><i class="fa fa-check"></i><b>12.1</b> When are characters mentioned?</a></li>
<li class="chapter" data-level="12.2" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html#who-mentions-whom"><i class="fa fa-check"></i><b>12.2</b> Who mentions whom?</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="resterampe.html"><a href="resterampe.html"><i class="fa fa-check"></i><b>13</b> Resterampe</a>
<ul>
<li class="chapter" data-level="13.0.1" data-path="resterampe.html"><a href="resterampe.html#character-meta-data"><i class="fa fa-check"></i><b>13.0.1</b> Character meta data</a></li>
<li class="chapter" data-level="13.0.2" data-path="resterampe.html"><a href="resterampe.html#character-groups"><i class="fa fa-check"></i><b>13.0.2</b> Character groups</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DramaAnalysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="advanced-text-analysis" class="section level1 hasAnchor" number="12">
<h1><span class="header-section-number">12</span> Advanced Text Analysis<a href="advanced-text-analysis.html#advanced-text-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This chapter contains analyis steps that are advanced. Concretely, this means that they are not as easy to reproduce as the others.</p>
<div id="when-are-characters-mentioned" class="section level2 hasAnchor" number="12.1">
<h2><span class="header-section-number">12.1</span> When are characters mentioned?<a href="advanced-text-analysis.html#when-are-characters-mentioned" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>The identification of character mentions is not done within the R package, but in the NLP pipeline <a href="https://github.com/quadrama/DramaNLP">DramaNLP</a>, and is still in development (the NLP name for this task is coreference resolution. For demo purposes, we have included <strong>manually annotated coreferences</strong> in this R package. Thus, to reproduce the analyses presented here on new texts, one would need to annotate coreferences manually, for the time being.</em></p>
<p>When characters are speaking on stage, they are actively present. But they can also be passively present, if other characters refer to them. Both levels of presence can be extracted with the <code>presence()</code> function:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="advanced-text-analysis.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load Emilia Galotti</span></span>
<span id="cb92-2"><a href="advanced-text-analysis.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(rksp<span class="fl">.0</span>)</span>
<span id="cb92-3"><a href="advanced-text-analysis.html#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="advanced-text-analysis.html#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="fu">presence</span>(rksp<span class="fl">.0</span>)</span></code></pre></div>
<pre><code>##    corpus  drama        character scenes actives passives    presence
## 1    test rksp.0           angelo     43       2        2  0.00000000
## 2    test rksp.0          appiani     43       5       20 -0.34883721
## 3    test rksp.0         battista     43       4        7 -0.06976744
## 4    test rksp.0     camillo_rota     43       1        1  0.00000000
## 5    test rksp.0  claudia_galotti     43      13        0  0.30232558
## 6    test rksp.0            conti     43       2        2  0.00000000
## 7    test rksp.0 der_kammerdiener     43       2        0  0.04651163
## 8    test rksp.0        der_prinz     43      17       20 -0.06976744
## 9    test rksp.0           emilia     43       7       29 -0.51162791
## 10   test rksp.0        marinelli     43      19       10  0.20930233
## 11   test rksp.0          odoardo     43      12       12  0.00000000
## 12   test rksp.0           orsina     43       6       10 -0.09302326
## 13   test rksp.0            pirro     43       4        2  0.04651163</code></pre>
<p>As we can see, each character has a few numbers associated: The column <code>actives</code> shows the number of scenes in which the character is actively present. This is equivalent to the information in the configuration matrix. The column <code>passives</code> shows the number of scenes in which a character is mentioned. By default, this excludes the scenes in which they are present themselves, because they can be assumed to be addresses to the character (this behaviour can be changed by adding the parameter <code>passiveOnlyWhenNotActive = TRUE</code> to the call of the <code>presence</code> function).</p>
<p>A simple visualisation that shows the characters active and passive presence in one plot can be generated like this: The first line (<code>plot()</code>) is responsible for the plotting of the symbols, the second line (<code>text()</code>) adds the character names or ids numbers.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="advanced-text-analysis.html#cb94-1" aria-hidden="true" tabindex="-1"></a>pres <span class="ot">&lt;-</span> <span class="fu">presence</span>(rksp<span class="fl">.0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb94-2"><a href="advanced-text-analysis.html#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">characterNames</span>(rksp<span class="fl">.0</span>)</span>
<span id="cb94-3"><a href="advanced-text-analysis.html#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="advanced-text-analysis.html#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x=</span>pres<span class="sc">$</span>active<span class="sc">/</span>pres<span class="sc">$</span>scenes, </span>
<span id="cb94-5"><a href="advanced-text-analysis.html#cb94-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">y=</span>pres<span class="sc">$</span>passive<span class="sc">/</span>pres<span class="sc">$</span>scenes, </span>
<span id="cb94-6"><a href="advanced-text-analysis.html#cb94-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), </span>
<span id="cb94-7"><a href="advanced-text-analysis.html#cb94-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), </span>
<span id="cb94-8"><a href="advanced-text-analysis.html#cb94-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;Active&quot;</span>, </span>
<span id="cb94-9"><a href="advanced-text-analysis.html#cb94-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab=</span><span class="st">&quot;Passive&quot;</span>,</span>
<span id="cb94-10"><a href="advanced-text-analysis.html#cb94-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">sub=</span><span class="fu">dramaNames</span>(rksp<span class="fl">.0</span>),</span>
<span id="cb94-11"><a href="advanced-text-analysis.html#cb94-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span><span class="st">&quot;Character Presence&quot;</span>)</span>
<span id="cb94-12"><a href="advanced-text-analysis.html#cb94-12" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span>pres<span class="sc">$</span>actives<span class="sc">/</span>pres<span class="sc">$</span>scenes, </span>
<span id="cb94-13"><a href="advanced-text-analysis.html#cb94-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">y=</span>pres<span class="sc">$</span>passives<span class="sc">/</span>pres<span class="sc">$</span>scenes, </span>
<span id="cb94-14"><a href="advanced-text-analysis.html#cb94-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">labels=</span><span class="fu">substr</span>(pres<span class="sc">$</span>character,<span class="dv">0</span>,<span class="dv">20</span>), </span>
<span id="cb94-15"><a href="advanced-text-analysis.html#cb94-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">pos=</span><span class="dv">3</span>,</span>
<span id="cb94-16"><a href="advanced-text-analysis.html#cb94-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex=</span><span class="fl">0.8</span>)</span>
<span id="cb94-17"><a href="advanced-text-analysis.html#cb94-17" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="at">x=</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="fl">0.5</span>,<span class="fl">0.1</span>),<span class="fu">seq</span>(<span class="dv">0</span>,<span class="fl">0.5</span>,<span class="fl">0.1</span>), <span class="at">lty=</span><span class="dv">3</span>)</span>
<span id="cb94-18"><a href="advanced-text-analysis.html#cb94-18" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">0</span>,<span class="at">y=</span><span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>, <span class="at">lty=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-76-1.png" width="672" /></p>
<p>In addition to the characters and their position, the plot shows a dashed and a dotted line. The dashed line indicates the maximum for one character. As one scene is either counted towards the active <em>or</em> passive presence, a character cannot have a presence in the top right triangle. The dotted line divides the characters in those that have more active scenes from those that have more passive scenes. As we can see here, almost all characters are placed in the left triangle, which means that their passive presence is higher than their active one. I.e., for each character, there are more scenes in which they are mentioned than scenes in which they speak.</p>
<p>The three characters Der Prinz, Emilia, Marinelli are all relatively close the dashed line. This indicates that they are the most present characters of the play.</p>
</div>
<div id="who-mentions-whom" class="section level2 hasAnchor" number="12.2">
<h2><span class="header-section-number">12.2</span> Who mentions whom?<a href="advanced-text-analysis.html#who-mentions-whom" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The above analysis shows mentions of characters by all (other) characters. To uncover the social relations in a play, it is of grave interest who talks about whom, i.e., who produces the mentions of Emilia, for instance.</p>
<p>There are multiple ways to represent this visually, of course. To get a general overview of the play, a directed network might be suitable. This will be created in the following.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="advanced-text-analysis.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get counts of speakers addressing other characters</span></span>
<span id="cb95-2"><a href="advanced-text-analysis.html#cb95-2" aria-hidden="true" tabindex="-1"></a>mc <span class="ot">&lt;-</span> <span class="fu">aggregate.data.frame</span>(</span>
<span id="cb95-3"><a href="advanced-text-analysis.html#cb95-3" aria-hidden="true" tabindex="-1"></a>  rksp<span class="fl">.0</span><span class="sc">$</span>mentions[, <span class="st">&quot;corpus&quot;</span>, <span class="at">with =</span> <span class="cn">FALSE</span>], </span>
<span id="cb95-4"><a href="advanced-text-analysis.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> rksp<span class="fl">.0</span><span class="sc">$</span>mentions[, <span class="fu">c</span>(<span class="st">&quot;utteranceSpeakerId&quot;</span>, <span class="st">&quot;entityId&quot;</span>), </span>
<span id="cb95-5"><a href="advanced-text-analysis.html#cb95-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">with =</span> <span class="cn">FALSE</span>], </span>
<span id="cb95-6"><a href="advanced-text-analysis.html#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">FUN=</span>length)</span>
<span id="cb95-7"><a href="advanced-text-analysis.html#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Get top 7 characters based on the amount of tokens they utter</span></span>
<span id="cb95-8"><a href="advanced-text-analysis.html#cb95-8" aria-hidden="true" tabindex="-1"></a>top_chars <span class="ot">&lt;-</span> <span class="fu">filterCharacters</span>(</span>
<span id="cb95-9"><a href="advanced-text-analysis.html#cb95-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dictionaryStatistics</span>(rksp<span class="fl">.0</span>), </span>
<span id="cb95-10"><a href="advanced-text-analysis.html#cb95-10" aria-hidden="true" tabindex="-1"></a>  rksp<span class="fl">.0</span>, <span class="at">n =</span> <span class="dv">7</span>)<span class="sc">$</span>character</span>
<span id="cb95-11"><a href="advanced-text-analysis.html#cb95-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Only keep top 7 speaking chars</span></span>
<span id="cb95-12"><a href="advanced-text-analysis.html#cb95-12" aria-hidden="true" tabindex="-1"></a>mc <span class="ot">&lt;-</span> mc[mc<span class="sc">$</span>utteranceSpeakerId <span class="sc">%in%</span> top_chars,]</span>
<span id="cb95-13"><a href="advanced-text-analysis.html#cb95-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Only keep mentions of top 7 chars</span></span>
<span id="cb95-14"><a href="advanced-text-analysis.html#cb95-14" aria-hidden="true" tabindex="-1"></a>mc <span class="ot">&lt;-</span> mc[mc<span class="sc">$</span>entityId <span class="sc">%in%</span> top_chars,]</span>
<span id="cb95-15"><a href="advanced-text-analysis.html#cb95-15" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(mc)[<span class="fu">names</span>(mc)<span class="sc">==</span><span class="st">&quot;corpus&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;N&quot;</span></span>
<span id="cb95-16"><a href="advanced-text-analysis.html#cb95-16" aria-hidden="true" tabindex="-1"></a>am <span class="ot">&lt;-</span> <span class="fu">acast</span>(mc, utteranceSpeakerId<span class="sc">~</span>entityId, </span>
<span id="cb95-17"><a href="advanced-text-analysis.html#cb95-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">value.var =</span> <span class="st">&quot;N&quot;</span>, <span class="at">fill =</span> <span class="dv">0</span>, <span class="at">drop =</span> <span class="cn">FALSE</span>)</span>
<span id="cb95-18"><a href="advanced-text-analysis.html#cb95-18" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(am) <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_to_title</span>(<span class="fu">gsub</span>(<span class="st">&quot;_&quot;</span>, <span class="st">&quot; &quot;</span>, <span class="fu">rownames</span>(am)))</span>
<span id="cb95-19"><a href="advanced-text-analysis.html#cb95-19" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(am) <span class="ot">&lt;-</span> stringr<span class="sc">::</span><span class="fu">str_to_title</span>(<span class="fu">gsub</span>(<span class="st">&quot;_&quot;</span>, <span class="st">&quot; &quot;</span>, <span class="fu">colnames</span>(am)))</span>
<span id="cb95-20"><a href="advanced-text-analysis.html#cb95-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot in a directed graph</span></span>
<span id="cb95-21"><a href="advanced-text-analysis.html#cb95-21" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph.adjacency</span>(am, <span class="at">mode =</span> <span class="st">&quot;directed&quot;</span>, </span>
<span id="cb95-22"><a href="advanced-text-analysis.html#cb95-22" aria-hidden="true" tabindex="-1"></a>                     <span class="at">weighted =</span> <span class="cn">TRUE</span>, <span class="at">diag =</span> <span class="cn">FALSE</span>)</span>
<span id="cb95-23"><a href="advanced-text-analysis.html#cb95-23" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(g,</span>
<span id="cb95-24"><a href="advanced-text-analysis.html#cb95-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span><span class="st">&quot;Mention Network&quot;</span>,</span>
<span id="cb95-25"><a href="advanced-text-analysis.html#cb95-25" aria-hidden="true" tabindex="-1"></a>     <span class="at">sub=</span><span class="fu">dramaNames</span>(rksp<span class="fl">.0</span>),</span>
<span id="cb95-26"><a href="advanced-text-analysis.html#cb95-26" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size=</span> <span class="fu">degree</span>(g)<span class="sc">*</span><span class="dv">3</span>,</span>
<span id="cb95-27"><a href="advanced-text-analysis.html#cb95-27" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.width =</span> <span class="fu">E</span>(g)<span class="sc">$</span>weight<span class="sc">*</span><span class="fl">0.02</span>, </span>
<span id="cb95-28"><a href="advanced-text-analysis.html#cb95-28" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.arrow.size =</span> <span class="fl">0.4</span>, </span>
<span id="cb95-29"><a href="advanced-text-analysis.html#cb95-29" aria-hidden="true" tabindex="-1"></a>     <span class="at">edge.curved =</span> <span class="fl">0.2</span>,</span>
<span id="cb95-30"><a href="advanced-text-analysis.html#cb95-30" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.color=</span>qd.colors[<span class="dv">6</span>],</span>
<span id="cb95-31"><a href="advanced-text-analysis.html#cb95-31" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color=</span><span class="st">&quot;black&quot;</span>,</span>
<span id="cb95-32"><a href="advanced-text-analysis.html#cb95-32" aria-hidden="true" tabindex="-1"></a>     <span class="at">layout =</span> layout.circle)</span></code></pre></div>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-78-1.png" width="672" /></p>
<p>The graph shows how often the displayed characters refer to each other. The wider the edge of an arrow, the more often the character mentions the character the arrow is pointing to. Larger nodes indicate that the character is often mentioned by others.
Emilia is often mentioned by her mother and father, Der Prinz and Marinelli. Der Prinz and Marinelli refer to each other more than any other character in the play.</p>


</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="word-field-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="resterampe.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DramaAnalysis.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

</body>

</html>
