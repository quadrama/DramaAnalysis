<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Who’s talking how much? | DramaAnalysis</title>
  <meta name="description" content="6 Who’s talking how much? | DramaAnalysis" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Who’s talking how much? | DramaAnalysis" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Who’s talking how much? | DramaAnalysis" />
  
  
  

<meta name="author" content="Nils Reiter" />
<meta name="author" content="Janis Pagel" />


<meta name="date" content="2022-12-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data.html"/>
<link rel="next" href="who-how-often.html"/>
<script src="assets/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="assets/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="assets/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="assets/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a></li>
<li class="chapter" data-level="3" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>3</b> Basics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="basics.html"><a href="basics.html#r-basics"><i class="fa fa-check"></i><b>3.1</b> R Basics</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="basics.html"><a href="basics.html#variable-assignment"><i class="fa fa-check"></i><b>3.1.1</b> Variable assignment</a></li>
<li class="chapter" data-level="3.1.2" data-path="basics.html"><a href="basics.html#function-calls"><i class="fa fa-check"></i><b>3.1.2</b> Function calls</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="basics.html"><a href="basics.html#magrittr"><i class="fa fa-check"></i><b>3.2</b> magrittr Pipes / <code>%&gt;%</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="quick-start.html"><a href="quick-start.html"><i class="fa fa-check"></i><b>4</b> Quick Start</a></li>
<li class="part"><span><b>I DramaAnalysis</b></span></li>
<li class="chapter" data-level="5" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>5</b> Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data.html"><a href="data.html#origin-tei-xml"><i class="fa fa-check"></i><b>5.1</b> Origin: TEI-XML</a></li>
<li class="chapter" data-level="5.2" data-path="data.html"><a href="data.html#preprocessed-data"><i class="fa fa-check"></i><b>5.2</b> Preprocessed data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="data.html"><a href="data.html#sample-data"><i class="fa fa-check"></i><b>5.2.1</b> Sample data</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="data.html"><a href="data.html#installing-corpora"><i class="fa fa-check"></i><b>5.3</b> Installing corpora</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data.html"><a href="data.html#data-sources-and-credits"><i class="fa fa-check"></i><b>5.3.1</b> Data sources and credits</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data.html"><a href="data.html#collection-data"><i class="fa fa-check"></i><b>5.4</b> Collection data</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="data.html"><a href="data.html#defining-collections"><i class="fa fa-check"></i><b>5.4.1</b> Defining collections</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="who-how-much.html"><a href="who-how-much.html"><i class="fa fa-check"></i><b>6</b> Who’s talking how much?</a>
<ul>
<li class="chapter" data-level="6.1" data-path="who-how-much.html"><a href="who-how-much.html#format"><i class="fa fa-check"></i><b>6.1</b> Character names instead of identifiers</a></li>
<li class="chapter" data-level="6.2" data-path="who-how-much.html"><a href="who-how-much.html#stacked-bar-plot"><i class="fa fa-check"></i><b>6.2</b> Stacked bar plot</a></li>
<li class="chapter" data-level="6.3" data-path="who-how-much.html"><a href="who-how-much.html#collection-analysis"><i class="fa fa-check"></i><b>6.3</b> Collection analysis</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="who-how-often.html"><a href="who-how-often.html"><i class="fa fa-check"></i><b>7</b> Who’s talking how often?</a>
<ul>
<li class="chapter" data-level="7.1" data-path="who-how-often.html"><a href="who-how-often.html#when-are-characters-talking"><i class="fa fa-check"></i><b>7.1</b> When are characters talking?</a></li>
<li class="chapter" data-level="7.2" data-path="who-how-often.html"><a href="who-how-often.html#adding-act-boundaries"><i class="fa fa-check"></i><b>7.2</b> Adding act boundaries</a></li>
<li class="chapter" data-level="7.3" data-path="who-how-often.html"><a href="who-how-often.html#who-how-often-collection"><i class="fa fa-check"></i><b>7.3</b> Collection analysis</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>8</b> Configuration</a>
<ul>
<li class="chapter" data-level="8.1" data-path="configuration.html"><a href="configuration.html#matrices"><i class="fa fa-check"></i><b>8.1</b> Matrices</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="configuration.html"><a href="configuration.html#filter"><i class="fa fa-check"></i><b>8.1.1</b> Filtering unimportant characters</a></li>
<li class="chapter" data-level="8.1.2" data-path="configuration.html"><a href="configuration.html#normalization"><i class="fa fa-check"></i><b>8.1.2</b> Normalization</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="configuration.html"><a href="configuration.html#copresence"><i class="fa fa-check"></i><b>8.2</b> Copresence</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="configuration.html"><a href="configuration.html#as-heatmap"><i class="fa fa-check"></i><b>8.2.1</b> As Heatmap</a></li>
<li class="chapter" data-level="8.2.2" data-path="configuration.html"><a href="configuration.html#network"><i class="fa fa-check"></i><b>8.2.2</b> As Network</a></li>
<li class="chapter" data-level="8.2.3" data-path="configuration.html"><a href="configuration.html#network-properties"><i class="fa fa-check"></i><b>8.2.3</b> Network properties</a></li>
<li class="chapter" data-level="8.2.4" data-path="configuration.html"><a href="configuration.html#graph-export"><i class="fa fa-check"></i><b>8.2.4</b> Graph Export</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="character-exchange.html"><a href="character-exchange.html"><i class="fa fa-check"></i><b>9</b> Character Exchange</a>
<ul>
<li class="chapter" data-level="9.1" data-path="character-exchange.html"><a href="character-exchange.html#hamming-distance"><i class="fa fa-check"></i><b>9.1</b> Hamming Distance</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="character-exchange.html"><a href="character-exchange.html#normalizedhamming"><i class="fa fa-check"></i><b>9.1.1</b> NormalizedHamming</a></li>
<li class="chapter" data-level="9.1.2" data-path="character-exchange.html"><a href="character-exchange.html#trilcke"><i class="fa fa-check"></i><b>9.1.2</b> Trilcke</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="character-exchange.html"><a href="character-exchange.html#corpus-analysis"><i class="fa fa-check"></i><b>9.2</b> Corpus Analysis</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="stage-directions.html"><a href="stage-directions.html"><i class="fa fa-check"></i><b>10</b> Stage Directions</a></li>
<li class="chapter" data-level="11" data-path="word-field-analysis.html"><a href="word-field-analysis.html"><i class="fa fa-check"></i><b>11</b> Word Field Analysis</a>
<ul>
<li class="chapter" data-level="11.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#single-word-field"><i class="fa fa-check"></i><b>11.1</b> Single word field</a></li>
<li class="chapter" data-level="11.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#multiple-word-fields"><i class="fa fa-check"></i><b>11.2</b> Multiple Word Fields</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#bar-plot-by-character"><i class="fa fa-check"></i><b>11.2.1</b> Bar plot by character</a></li>
<li class="chapter" data-level="11.2.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#bar-plot-by-field"><i class="fa fa-check"></i><b>11.2.2</b> Bar plot by field</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="word-field-analysis.html"><a href="word-field-analysis.html#dictionary-based-distance"><i class="fa fa-check"></i><b>11.3</b> Dictionary Based Distance</a></li>
<li class="chapter" data-level="11.4" data-path="word-field-analysis.html"><a href="word-field-analysis.html#development-over-the-course-of-the-play"><i class="fa fa-check"></i><b>11.4</b> Development over the course of the play</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#individual-characters"><i class="fa fa-check"></i><b>11.4.1</b> Individual characters</a></li>
<li class="chapter" data-level="11.4.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#comparing-characters"><i class="fa fa-check"></i><b>11.4.2</b> Comparing characters</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="word-field-analysis.html"><a href="word-field-analysis.html#corpus-analysis-1"><i class="fa fa-check"></i><b>11.5</b> Corpus Analysis</a></li>
<li class="chapter" data-level="11.6" data-path="word-field-analysis.html"><a href="word-field-analysis.html#enriching-the-word-fields-distributionally"><i class="fa fa-check"></i><b>11.6</b> Enriching the word fields distributionally</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html"><i class="fa fa-check"></i><b>12</b> Advanced Text Analysis</a>
<ul>
<li class="chapter" data-level="12.1" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html#when-are-characters-mentioned"><i class="fa fa-check"></i><b>12.1</b> When are characters mentioned?</a></li>
<li class="chapter" data-level="12.2" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html#who-mentions-whom"><i class="fa fa-check"></i><b>12.2</b> Who mentions whom?</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="resterampe.html"><a href="resterampe.html"><i class="fa fa-check"></i><b>13</b> Resterampe</a>
<ul>
<li class="chapter" data-level="13.0.1" data-path="resterampe.html"><a href="resterampe.html#character-meta-data"><i class="fa fa-check"></i><b>13.0.1</b> Character meta data</a></li>
<li class="chapter" data-level="13.0.2" data-path="resterampe.html"><a href="resterampe.html#character-groups"><i class="fa fa-check"></i><b>13.0.2</b> Character groups</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DramaAnalysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="who-how-much" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Who’s talking how much?<a href="who-how-much.html#who-how-much" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>We’re assuming here that we have loaded some texts using <code>loadDrama()</code>, and that this text is stored as a <code>QDDrama</code>-object in the variable <code>text</code>. For demo purposes, we will use the two plays that are included in the R-package, Lessing’s <em>Emilia Galotti</em> and <em>Miss Sara Sampson</em>. Both have been preprocessed by the <a href="https://github.com/quadrama/DramaNLP">DramaNLP</a> pipeline.</p>
<p>First, we calculate summary statistics over all characters.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="who-how-much.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load Emilia Galotti</span></span>
<span id="cb13-2"><a href="who-how-much.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(rksp<span class="fl">.0</span>)</span>
<span id="cb13-3"><a href="who-how-much.html#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="who-how-much.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load Miß Sara Sampson</span></span>
<span id="cb13-5"><a href="who-how-much.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(rjmw<span class="fl">.0</span>)</span>
<span id="cb13-6"><a href="who-how-much.html#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="who-how-much.html#cb13-7" aria-hidden="true" tabindex="-1"></a>text <span class="ot">&lt;-</span> <span class="fu">combine</span>(rksp<span class="fl">.0</span>, rjmw<span class="fl">.0</span>)</span>
<span id="cb13-8"><a href="who-how-much.html#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="who-how-much.html#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="fu">characterStatistics</span>(text)</span></code></pre></div>
<pre><code>##    corpus  drama        character tokens types utterances utteranceLengthMean
## 1    test rjmw.0      sir_william   2085   707         23            90.65217
## 2    test rjmw.0         waitwell   1842   570         42            43.85714
## 3    test rjmw.0         der_wirt    327   179          7            46.71429
## 4    test rjmw.0        mellefont   8175  1744        201            40.67164
## 5    test rjmw.0           norton   1014   411         46            22.04348
## 6    test rjmw.0            betty    484   224         20            24.20000
## 7    test rjmw.0             sara   9278  1919        166            55.89157
## 8    test rjmw.0          marwood   7295  1763        155            47.06452
## 9    test rjmw.0           hannah    258   155         16            16.12500
## 10   test rjmw.0     der_bediente     44    34          2            22.00000
## 11   test rjmw.0         arabella    404   164         13            31.07692
## 12   test rksp.0        der_prinz   5553  1302        157            35.36943
## 13   test rksp.0 der_kammerdiener     42    34          6             7.00000
## 14   test rksp.0            conti    764   325         24            31.83333
## 15   test rksp.0        marinelli   5660  1343        221            25.61086
## 16   test rksp.0     camillo_rota    106    62          6            17.66667
## 17   test rksp.0  claudia_galotti   2137   668         73            29.27397
## 18   test rksp.0            pirro    366   207         25            14.64000
## 19   test rksp.0          odoardo   3398   927        108            31.46296
## 20   test rksp.0           angelo    678   315         28            24.21429
## 21   test rksp.0           emilia   2363   657         64            36.92188
## 22   test rksp.0          appiani   1133   433         48            23.60417
## 23   test rksp.0         battista    203   117         11            18.45455
## 24   test rksp.0           orsina   2962   791         64            46.28125
##    utteranceLengthSd firstBegin lastEnd
## 1         108.893446        598  170851
## 2          59.335989        671  158696
## 3          45.095138       3573    5697
## 4          51.014622       5850  170201
## 5          23.440664       6330  170469
## 6          36.811897       9016  157000
## 7          79.167641      11768  167470
## 8          62.378159      28321  141018
## 9          15.654073      28393   58536
## 10         12.727922      31533   31791
## 11         31.739727      43991   52572
## 12         43.172327        426  136067
## 13          5.215362       1149   24954
## 14         40.141778       2654   12212
## 15         30.384695      13147  134486
## 16         19.179851      25577   26914
## 17         29.318301      27006  112526
## 18         10.719453      27113   50425
## 19         41.899842      27385  135555
## 20         21.382508      28777   64877
## 21         48.166808      36769  134940
## 22         25.821597      44452   56735
## 23         33.380724      67465   86481
## 24         52.298129      88094  112182</code></pre>
<p>This already gives us a lot of information about the characters. In particular, the function <code>characterStatistics()</code> returns a table (of the types <code>QDCharacterStatistics</code>, <code>QDHasCharacter</code> and <code>data.frame</code>) with information about:</p>
<ul>
<li>the number of tokens a character speaks (<code>tokens</code>),</li>
<li>the number of different tokens a character speaks (<code>types</code>),</li>
<li>the number of utterances (<code>utterances</code>),</li>
<li>the average length of the utterances (<code>utteranceLengthMean</code>),</li>
<li>their standard deviation (<code>utteranceLengthSd</code>),</li>
<li>the character position of the start of the first utterance (<code>firstBegin</code>), and</li>
<li>the character position of the end of the last utterance (<code>lastEnd</code>).</li>
</ul>
<p>The function <code>characterStatistics()</code> provides a number of options to control its exact behaviour. Entering <a href="https://quadrama.github.io/DramaAnalysis/3.0.2/reference/characterStatistics.html"><code>?characterStatistics</code></a> in the R console opens the documentation for the function with a description of all the options. We’ll describe some frequently used options here as well:</p>
<ul>
<li><p>Punctuation: By default, all punctuation marks are counted as tokens. This behaviour can be changed by setting <code>filterPunctuation=TRUE</code>.</p></li>
<li><p>Normalization: The values in the table above are all absolute values. When comparing to other texts, one is often interested in normalized values. If the option <code>normalize</code> is set to <code>TRUE</code>, all values will be normalised (if applicable).</p></li>
<li><p>Segmentation: By default, the function extracts values for the entire play. With the option <code>segment</code>, it is possible to extract statistics by act or scene, as shown in the example below. Except for the additional column <code>Act</code>, the columns in the table are the same as before.</p></li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="who-how-much.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">characterStatistics</span>(rksp<span class="fl">.0</span>, </span>
<span id="cb15-2"><a href="who-how-much.html#cb15-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">segment=</span><span class="st">&quot;Act&quot;</span>)</span></code></pre></div>
<pre><code>##    corpus  drama Act        character tokens types utterances
## 1    test rksp.0   I        der_prinz   2947   840         71
## 2    test rksp.0   I der_kammerdiener     42    34          6
## 3    test rksp.0   I            conti    764   325         24
## 4    test rksp.0   I        marinelli   1062   420         31
## 5    test rksp.0   I     camillo_rota    106    62          6
## 6    test rksp.0  II  claudia_galotti   1264   482         50
## 7    test rksp.0  II            pirro    366   207         25
## 8    test rksp.0  II          odoardo    622   298         17
## 9    test rksp.0  II           angelo    416   228         19
## 10   test rksp.0  II           emilia   1189   426         28
## 11   test rksp.0  II          appiani   1133   433         48
## 12   test rksp.0  II        marinelli    527   255         28
## 13   test rksp.0 III        marinelli   1857   613         56
## 14   test rksp.0 III        der_prinz    965   404         29
## 15   test rksp.0 III           angelo    262   153          9
## 16   test rksp.0 III         battista    195   111          9
## 17   test rksp.0 III           emilia    417   178         16
## 18   test rksp.0 III  claudia_galotti    641   250         16
## 19   test rksp.0  IV        der_prinz    809   321         30
## 20   test rksp.0  IV        marinelli   1377   501         72
## 21   test rksp.0  IV         battista      8     7          2
## 22   test rksp.0  IV           orsina   2962   791         64
## 23   test rksp.0  IV          odoardo    765   303         30
## 24   test rksp.0  IV  claudia_galotti    232   125          7
## 25   test rksp.0   V        marinelli    837   366         34
## 26   test rksp.0   V        der_prinz    832   330         27
## 27   test rksp.0   V          odoardo   2011   645         61
## 28   test rksp.0   V           emilia    757   273         20
##    utteranceLengthMean utteranceLengthSd firstBegin lastEnd
## 1             41.50704         43.793305        426   26559
## 2              7.00000          5.215362       1149   24954
## 3             31.83333         40.141778       2654   12212
## 4             34.25806         34.466378      13147   23619
## 5             17.66667         19.179851      25577   26914
## 6             25.28000         28.804790      27006   56666
## 7             14.64000         10.719453      27113   50425
## 8             36.58824         42.804875      27385   36244
## 9             21.89474         21.385080      28777   32436
## 10            42.46429         63.801476      36769   48503
## 11            23.60417         25.821597      44452   56735
## 12            18.82143         17.346263      50431   55936
## 13            33.16071         35.842472      56826   79337
## 14            33.27586         49.950616      56914   72918
## 15            29.11111         21.779833      63132   64877
## 16            21.66667         36.441734      67465   75603
## 17            26.06250         27.167306      67517   79537
## 18            40.06250         29.535219      74777   79747
## 19            26.96667         38.991143      79838   95409
## 20            19.12500         21.503316      79972  103998
## 21             4.00000          2.828427      86363   86481
## 22            46.28125         52.298129      88094  112182
## 23            25.50000         20.610928     101533  112733
## 24            33.14286         29.952343     110037  112526
## 25            24.61765         37.334698     112824  134486
## 26            30.81481         37.764490     113752  136067
## 27            32.96721         49.085289     114998  135555
## 28            37.85000         34.351549     128910  134940</code></pre>
<p>Of course, the values in the above table can be directly plotted:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="who-how-much.html#cb17-1" aria-hidden="true" tabindex="-1"></a>charStats <span class="ot">&lt;-</span> <span class="fu">characterStatistics</span>(text, <span class="at">normalize=</span><span class="cn">FALSE</span>)</span>
<span id="cb17-2"><a href="who-how-much.html#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="who-how-much.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co"># increase plot margins, so that the labels can be plotted</span></span>
<span id="cb17-4"><a href="who-how-much.html#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="who-how-much.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(charStats<span class="sc">$</span>tokens,  <span class="co"># these are the values to be plotted</span></span>
<span id="cb17-6"><a href="who-how-much.html#cb17-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg =</span> charStats<span class="sc">$</span>character, <span class="co"># the labels on the x-axis</span></span>
<span id="cb17-7"><a href="who-how-much.html#cb17-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">las=</span><span class="dv">2</span> <span class="co"># rotate the labels on both axes</span></span>
<span id="cb17-8"><a href="who-how-much.html#cb17-8" aria-hidden="true" tabindex="-1"></a>) </span></code></pre></div>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<div id="format" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Character names instead of identifiers<a href="who-how-much.html#format" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>By default, all our functions identify characters using technical ids, which may or may not be human-readable. Even if they are, it’s usually a good idea to replace them with nice to read labels before publication. We therefore provide the function <a href="https://quadrama.github.io/DramaAnalysis/3.0.2/reference/characterNames.html"><code>characterNames()</code></a>, which can be applied to any table that contains a column with character ids (i.e., any object of type <code>QDHasCharacter</code>).</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="who-how-much.html#cb18-1" aria-hidden="true" tabindex="-1"></a>charStats <span class="ot">&lt;-</span> <span class="fu">characterStatistics</span>(text, <span class="at">normalize=</span><span class="cn">FALSE</span>)</span>
<span id="cb18-2"><a href="who-how-much.html#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="who-how-much.html#cb18-3" aria-hidden="true" tabindex="-1"></a>charStats <span class="ot">&lt;-</span> <span class="fu">characterNames</span>(charStats, text) <span class="co"># Replace ids with names</span></span>
<span id="cb18-4"><a href="who-how-much.html#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="who-how-much.html#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co"># increase plot margins, so that the labels can be plotted</span></span>
<span id="cb18-6"><a href="who-how-much.html#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="who-how-much.html#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(charStats<span class="sc">$</span>tokens,  <span class="co"># these are the values to be plotted</span></span>
<span id="cb18-8"><a href="who-how-much.html#cb18-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">names.arg =</span> charStats<span class="sc">$</span>character, <span class="co"># the labels on the x-axis</span></span>
<span id="cb18-9"><a href="who-how-much.html#cb18-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">las=</span><span class="dv">2</span> <span class="co"># rotate the labels on both axes</span></span>
<span id="cb18-10"><a href="who-how-much.html#cb18-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>As can be seen above <code>characterNames()</code> requires two arguments: The table in which we want to replace ids by characters, and the original drama object (that we got from calling the function <code>loadDrama()</code>).</p>
</div>
<div id="stacked-bar-plot" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Stacked bar plot<a href="who-how-much.html#stacked-bar-plot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The plot shown above is quite wide, and some aspects (like the ranking in terms of spoken tokens), is hard to see. We often use another way of visualizing this, which can be used if you supply the <code>QDCharacterStatistics</code> directly into the <code>barplot()</code> function. In combination with the <code>magrittr</code> pipes (see <a href="basics.html#magrittr">3.2</a>), we can call it like this (enter <code>?barplot.QDCharacterStatistics</code> for details on the special barplot function):</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="who-how-much.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">characterStatistics</span>(text, <span class="at">normalize=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="who-how-much.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">characterNames</span>(text) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="who-how-much.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">barplot</span>(<span class="at">names.arg=</span><span class="fu">dramaNames</span>(text, <span class="at">formatString =</span> <span class="st">&quot;%T&quot;</span>))</span></code></pre></div>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>By default, the <code>barplot.QDCharacterStatistics()</code> function visualises the number of tokens spoken by the characters (and ranks the characters accordingly). This can be changed by supplying the option <code>column</code>, and specifying another value.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="who-how-much.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">characterStatistics</span>(text, <span class="at">normalize=</span><span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="who-how-much.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">characterNames</span>(text) <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="who-how-much.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">barplot</span>(<span class="at">names.arg=</span><span class="fu">dramaNames</span>(text, <span class="at">formatString =</span> <span class="st">&quot;%T&quot;</span>), </span>
<span id="cb20-4"><a href="who-how-much.html#cb20-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">column =</span> <span class="st">&quot;utteranceLengthMean&quot;</span>) <span class="co"># show mean utterance length</span></span></code></pre></div>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>This picture looks quite different! Other interesting columns to experiment with are <code>types</code> and <code>utteranceLengthSd</code>.</p>
<p>Another function that we used above is called <code>dramaNames()</code>. It can be used to extract</p>
</div>
<div id="collection-analysis" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Collection analysis<a href="who-how-much.html#collection-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>As we have already seen above, the <code>characterStatistics()</code> function works well with multiple texts. This means, we can also use it to analyze all <em>Sturm und Drang</em> plays at once:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="who-how-much.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this list can also be loaded using loadSet()</span></span>
<span id="cb21-2"><a href="who-how-much.html#cb21-2" aria-hidden="true" tabindex="-1"></a>sturm_und_drang.ids <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;qd:11f81.0&quot;</span>, <span class="st">&quot;qd:11g1d.0&quot;</span>, <span class="st">&quot;qd:11g9w.0&quot;</span>, </span>
<span id="cb21-3"><a href="who-how-much.html#cb21-3" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;qd:11hdv.0&quot;</span>, <span class="st">&quot;qd:nds0.0&quot;</span>, <span class="st">&quot;qd:r12k.0&quot;</span>, </span>
<span id="cb21-4"><a href="who-how-much.html#cb21-4" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;qd:r12v.0&quot;</span>, <span class="st">&quot;qd:r134.0&quot;</span>,  <span class="st">&quot;qd:r13g.0&quot;</span>, </span>
<span id="cb21-5"><a href="who-how-much.html#cb21-5" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;qd:rfxf.0&quot;</span>,  <span class="st">&quot;qd:rhtz.0&quot;</span>, <span class="st">&quot;qd:rhzq.0&quot;</span>, </span>
<span id="cb21-6"><a href="who-how-much.html#cb21-6" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;qd:rj22.0&quot;</span>, <span class="st">&quot;qd:tx4z.0&quot;</span>, <span class="st">&quot;qd:tz39.0&quot;</span>, </span>
<span id="cb21-7"><a href="who-how-much.html#cb21-7" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;qd:tzgk.0&quot;</span>, <span class="st">&quot;qd:v0fv.0&quot;</span>, <span class="st">&quot;qd:wznj.0&quot;</span>, </span>
<span id="cb21-8"><a href="who-how-much.html#cb21-8" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;qd:tx4z.0&quot;</span>, <span class="st">&quot;qd:rfxf.0&quot;</span>)</span>
<span id="cb21-9"><a href="who-how-much.html#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="who-how-much.html#cb21-10" aria-hidden="true" tabindex="-1"></a>sturm_und_drang.plays <span class="ot">&lt;-</span> <span class="fu">loadDrama</span>(sturm_und_drang.ids)</span>
<span id="cb21-11"><a href="who-how-much.html#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="who-how-much.html#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">30</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb21-13"><a href="who-how-much.html#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="fu">characterStatistics</span>(sturm_und_drang.plays, <span class="at">normalize=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-14"><a href="who-how-much.html#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">characterNames</span>(sturm_und_drang.plays) <span class="sc">%&gt;%</span></span>
<span id="cb21-15"><a href="who-how-much.html#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">barplot</span>(<span class="at">las=</span><span class="dv">2</span>, <span class="at">names.arg =</span> <span class="fu">dramaNames</span>(sturm_und_drang.plays, </span>
<span id="cb21-16"><a href="who-how-much.html#cb21-16" aria-hidden="true" tabindex="-1"></a>                                        <span class="at">formatString =</span> <span class="st">&quot;%A: %T&quot;</span>))</span></code></pre></div>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>While readability can certainly be improved upon, we can directly see that the relative active presence of the characters is distributed very differently in different plays. The most “talkative” character in Klinger’s <em>Zwillinge</em>, for instance, speaks almost one half of the words in the play, while Wenzelslaus in Lenz’ <em>Hofmeister</em> speaks much less, even in relative terms.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="who-how-often.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DramaAnalysis.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

</body>

</html>
