<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Who’s talking how much? | DramaAnalysis</title>
  <meta name="description" content="4 Who’s talking how much? | DramaAnalysis" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Who’s talking how much? | DramaAnalysis" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Who’s talking how much? | DramaAnalysis" />
  
  
  

<meta name="author" content="Nils Reiter" />


<meta name="date" content="2019-06-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data.html">
<link rel="next" href="who-how-often.html">
<script src="assets/jquery-2.2.3/jquery.min.js"></script>
<link href="assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#classes"><i class="fa fa-check"></i><b>1.1</b> Classes</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="basics.html"><a href="basics.html#r-basics"><i class="fa fa-check"></i><b>2.1</b> R Basics</a><ul>
<li class="chapter" data-level="2.1.1" data-path="basics.html"><a href="basics.html#variable-assignment"><i class="fa fa-check"></i><b>2.1.1</b> Variable assignment</a></li>
<li class="chapter" data-level="2.1.2" data-path="basics.html"><a href="basics.html#function-calls"><i class="fa fa-check"></i><b>2.1.2</b> Function calls</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basics.html"><a href="basics.html#magrittr"><i class="fa fa-check"></i><b>2.2</b> magrittr Pipes / <code>%&gt;%</code></a></li>
</ul></li>
<li class="part"><span><b>I DramaAnalysis</b></span></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a><ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#origin-tei-xml"><i class="fa fa-check"></i><b>3.1</b> Origin: TEI-XML</a></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#preprocessed-data"><i class="fa fa-check"></i><b>3.2</b> Preprocessed data</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data.html"><a href="data.html#sample-data"><i class="fa fa-check"></i><b>3.2.1</b> Sample data</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#installing-corpora"><i class="fa fa-check"></i><b>3.3</b> Installing corpora</a></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#collection-data"><i class="fa fa-check"></i><b>3.4</b> Collection data</a><ul>
<li class="chapter" data-level="3.4.1" data-path="data.html"><a href="data.html#defining-collections"><i class="fa fa-check"></i><b>3.4.1</b> Defining collections</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="who-how-much.html"><a href="who-how-much.html"><i class="fa fa-check"></i><b>4</b> Who’s talking how much?</a><ul>
<li class="chapter" data-level="4.1" data-path="who-how-much.html"><a href="who-how-much.html#format"><i class="fa fa-check"></i><b>4.1</b> Character names instead of identifiers</a></li>
<li class="chapter" data-level="4.2" data-path="who-how-much.html"><a href="who-how-much.html#stacked-bar-plot"><i class="fa fa-check"></i><b>4.2</b> Stacked bar plot</a></li>
<li class="chapter" data-level="4.3" data-path="who-how-much.html"><a href="who-how-much.html#collection-analysis"><i class="fa fa-check"></i><b>4.3</b> Collection analysis</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="who-how-often.html"><a href="who-how-often.html"><i class="fa fa-check"></i><b>5</b> Who’s talking how often?</a><ul>
<li class="chapter" data-level="5.1" data-path="who-how-often.html"><a href="who-how-often.html#when-are-characters-talking"><i class="fa fa-check"></i><b>5.1</b> When are characters talking?</a></li>
<li class="chapter" data-level="5.2" data-path="who-how-often.html"><a href="who-how-often.html#adding-act-boundaries"><i class="fa fa-check"></i><b>5.2</b> Adding act boundaries</a></li>
<li class="chapter" data-level="5.3" data-path="who-how-often.html"><a href="who-how-often.html#who-how-often-collection"><i class="fa fa-check"></i><b>5.3</b> Collection analysis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>6</b> Configuration</a><ul>
<li class="chapter" data-level="6.1" data-path="configuration.html"><a href="configuration.html#matrices"><i class="fa fa-check"></i><b>6.1</b> Matrices</a><ul>
<li class="chapter" data-level="6.1.1" data-path="configuration.html"><a href="configuration.html#filter"><i class="fa fa-check"></i><b>6.1.1</b> Filtering unimportant characters</a></li>
<li class="chapter" data-level="6.1.2" data-path="configuration.html"><a href="configuration.html#normalization"><i class="fa fa-check"></i><b>6.1.2</b> Normalization</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="configuration.html"><a href="configuration.html#copresence"><i class="fa fa-check"></i><b>6.2</b> Copresence</a><ul>
<li class="chapter" data-level="6.2.1" data-path="configuration.html"><a href="configuration.html#as-heatmap"><i class="fa fa-check"></i><b>6.2.1</b> As Heatmap</a></li>
<li class="chapter" data-level="6.2.2" data-path="configuration.html"><a href="configuration.html#network"><i class="fa fa-check"></i><b>6.2.2</b> As Network</a></li>
<li class="chapter" data-level="6.2.3" data-path="configuration.html"><a href="configuration.html#network-properties"><i class="fa fa-check"></i><b>6.2.3</b> Network properties</a></li>
<li class="chapter" data-level="6.2.4" data-path="configuration.html"><a href="configuration.html#graph-export"><i class="fa fa-check"></i><b>6.2.4</b> Graph Export</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="character-exchange.html"><a href="character-exchange.html"><i class="fa fa-check"></i><b>7</b> Character Exchange</a><ul>
<li class="chapter" data-level="7.1" data-path="character-exchange.html"><a href="character-exchange.html#hamming-distance"><i class="fa fa-check"></i><b>7.1</b> Hamming Distance</a><ul>
<li class="chapter" data-level="7.1.1" data-path="character-exchange.html"><a href="character-exchange.html#normalizedhamming"><i class="fa fa-check"></i><b>7.1.1</b> NormalizedHamming</a></li>
<li class="chapter" data-level="7.1.2" data-path="character-exchange.html"><a href="character-exchange.html#trilcke"><i class="fa fa-check"></i><b>7.1.2</b> Trilcke</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="character-exchange.html"><a href="character-exchange.html#corpus-analysis"><i class="fa fa-check"></i><b>7.2</b> Corpus Analysis</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="stage-directions.html"><a href="stage-directions.html"><i class="fa fa-check"></i><b>8</b> Stage Directions</a></li>
<li class="chapter" data-level="9" data-path="word-field-analysis.html"><a href="word-field-analysis.html"><i class="fa fa-check"></i><b>9</b> Word Field Analysis</a><ul>
<li class="chapter" data-level="9.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#single-word-field"><i class="fa fa-check"></i><b>9.1</b> Single word field</a></li>
<li class="chapter" data-level="9.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#multiple-word-fields"><i class="fa fa-check"></i><b>9.2</b> Multiple Word Fields</a><ul>
<li class="chapter" data-level="9.2.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#bar-plot-by-character"><i class="fa fa-check"></i><b>9.2.1</b> Bar plot by character</a></li>
<li class="chapter" data-level="9.2.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#bar-plot-by-field"><i class="fa fa-check"></i><b>9.2.2</b> Bar plot by field</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="word-field-analysis.html"><a href="word-field-analysis.html#dictionary-based-distance"><i class="fa fa-check"></i><b>9.3</b> Dictionary Based Distance</a></li>
<li class="chapter" data-level="9.4" data-path="word-field-analysis.html"><a href="word-field-analysis.html#development-over-the-course-of-the-play"><i class="fa fa-check"></i><b>9.4</b> Development over the course of the play</a><ul>
<li class="chapter" data-level="9.4.1" data-path="word-field-analysis.html"><a href="word-field-analysis.html#individual-characters"><i class="fa fa-check"></i><b>9.4.1</b> Individual characters</a></li>
<li class="chapter" data-level="9.4.2" data-path="word-field-analysis.html"><a href="word-field-analysis.html#comparing-characters"><i class="fa fa-check"></i><b>9.4.2</b> Comparing characters</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="word-field-analysis.html"><a href="word-field-analysis.html#corpus-analysis-1"><i class="fa fa-check"></i><b>9.5</b> Corpus Analysis</a></li>
<li class="chapter" data-level="9.6" data-path="word-field-analysis.html"><a href="word-field-analysis.html#enriching-the-word-fields-distributionally"><i class="fa fa-check"></i><b>9.6</b> Enriching the word fields distributionally</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html"><i class="fa fa-check"></i><b>10</b> Advanced Text Analysis</a><ul>
<li class="chapter" data-level="10.1" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html#when-are-characters-mentioned"><i class="fa fa-check"></i><b>10.1</b> When are characters mentioned?</a></li>
<li class="chapter" data-level="10.2" data-path="advanced-text-analysis.html"><a href="advanced-text-analysis.html#who-mentions-whom"><i class="fa fa-check"></i><b>10.2</b> Who mentions whom?</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="resterampe.html"><a href="resterampe.html"><i class="fa fa-check"></i><b>11</b> Resterampe</a><ul>
<li class="chapter" data-level="11.0.1" data-path="resterampe.html"><a href="resterampe.html#character-meta-data"><i class="fa fa-check"></i><b>11.0.1</b> Character meta data</a></li>
<li class="chapter" data-level="11.0.2" data-path="resterampe.html"><a href="resterampe.html#character-groups"><i class="fa fa-check"></i><b>11.0.2</b> Character groups</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DramaAnalysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="who-how-much" class="section level1">
<h1><span class="header-section-number">4</span> Who’s talking how much?</h1>
<p>We’re assuming here that we have loaded some texts using <code>loadDrama()</code>, and that this text is stored as a <code>QDDrama</code>-object in the variable <code>text</code>. For demo purposes, we will use the two plays that are included in the R-package, Lessing’s <em>Emilia Galotti</em> and <em>Miss Sara Sampson</em>. Both have been preprocessed by the <a href="https://github.com/quadrama/DramaNLP">DramaNLP</a> pipeline.</p>
<div class="figure"><span id="fig:unnamed-chunk-8"></span>
<img src="DramaAnalysis_files/figure-html/unnamed-chunk-8-1.png" alt="Relevant classes and functions in this chapter" width="90%" />
<p class="caption">
Figure 4.1: Relevant classes and functions in this chapter
</p>
</div>
<p>First, we calculate summary statistics over all characters.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">characterStatistics</span>(text)</code></pre>
<pre><code>##    corpus  drama        character tokens types utterances
## 1    test rjmw.0      sir_william   2085   707         23
## 2    test rjmw.0         waitwell   1842   570         42
## 3    test rjmw.0         der_wirt    327   179          7
## 4    test rjmw.0        mellefont   8175  1744        201
## 5    test rjmw.0           norton   1014   411         46
## 6    test rjmw.0            betty    484   224         20
## 7    test rjmw.0             sara   9278  1919        166
## 8    test rjmw.0          marwood   7295  1763        155
## 9    test rjmw.0           hannah    258   155         16
## 10   test rjmw.0     der_bediente     44    34          2
## 11   test rjmw.0         arabella    404   164         13
## 12   test rksp.0        der_prinz   5553  1302        157
## 13   test rksp.0 der_kammerdiener     42    34          6
## 14   test rksp.0            conti    764   325         24
## 15   test rksp.0        marinelli   5660  1343        221
## 16   test rksp.0     camillo_rota    106    62          6
## 17   test rksp.0  claudia_galotti   2137   668         73
## 18   test rksp.0            pirro    366   207         25
## 19   test rksp.0          odoardo   3398   927        108
## 20   test rksp.0           angelo    678   315         28
## 21   test rksp.0           emilia   2363   657         64
## 22   test rksp.0          appiani   1133   433         48
## 23   test rksp.0         battista    203   117         11
## 24   test rksp.0           orsina   2962   791         64
##    utteranceLengthMean utteranceLengthSd firstBegin lastEnd
## 1             90.65217        108.893446        598  170851
## 2             43.85714         59.335989        671  158696
## 3             46.71429         45.095138       3573    5697
## 4             40.67164         51.014622       5850  170201
## 5             22.04348         23.440664       6330  170469
## 6             24.20000         36.811897       9016  157000
## 7             55.89157         79.167641      11768  167470
## 8             47.06452         62.378159      28321  141018
## 9             16.12500         15.654073      28393   58536
## 10            22.00000         12.727922      31533   31791
## 11            31.07692         31.739727      43991   52572
## 12            35.36943         43.172327        426  136067
## 13             7.00000          5.215362       1149   24954
## 14            31.83333         40.141778       2654   12212
## 15            25.61086         30.384695      13147  134486
## 16            17.66667         19.179851      25577   26914
## 17            29.27397         29.318301      27006  112526
## 18            14.64000         10.719453      27113   50425
## 19            31.46296         41.899842      27385  135555
## 20            24.21429         21.382508      28777   64877
## 21            36.92188         48.166808      36769  134940
## 22            23.60417         25.821597      44452   56735
## 23            18.45455         33.380724      67465   86481
## 24            46.28125         52.298129      88094  112182</code></pre>
<p>This already gives us a lot of information about the characters. In particular, the function <code>characterStatistics()</code> returns a table (of the types <code>QDCharacterStatistics</code>, <code>QDHasCharacter</code> and <code>data.frame</code>) with information about:</p>
<ul>
<li>the number of tokens a character speaks (<code>tokens</code>),</li>
<li>the number of different tokens a character speaks (<code>types</code>),</li>
<li>the number of utterances (<code>utterances</code>),</li>
<li>the average length of the utterances (<code>utteranceLengthMean</code>),</li>
<li>their standard deviation (<code>utteranceLengthSd</code>),</li>
<li>the character position of the start of the first utterance (<code>firstBegin</code>), and</li>
<li>the character position of the end of the last utterance (<code>lastEnd</code>).</li>
</ul>
<p>The function <code>characterStatistics()</code> provides a number of options to control its exact behaviour. Entering <a href="https://quadrama.github.io/DramaAnalysis/3.0.0/reference/characterStatistics.html"><code>?characterStatistics</code></a> in the R console opens the documentation for the function with a description of all the options. We’ll describe some frequently used options here as well:</p>
<ul>
<li><p>Punctuation: By default, all punctuation marks are counted as tokens. This behaviour can be changed by setting <code>filterPunctuation=TRUE</code>.</p></li>
<li><p>Normalization: The values in the table above are all absolute values. When comparing to other texts, one is often interested in normalized values. If the option <code>normalize</code> is set to <code>TRUE</code>, all values will be normalised (if applicable).</p></li>
<li><p>Segmentation: By default, the function extracts values for the entire play. With the option <code>segment</code>, it is possible to extract statistics by act or scene, as shown in the example below. Except for the additional column <code>Act</code>, the columns in the table are the same as before.</p></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">characterStatistics</span>(rksp<span class="fl">.0</span>, 
                    <span class="dt">segment=</span><span class="st">&quot;Act&quot;</span>)</code></pre>
<pre><code>##    corpus  drama Act        character tokens types utterances
## 1    test rksp.0   I        der_prinz   2947   840         71
## 2    test rksp.0   I der_kammerdiener     42    34          6
## 3    test rksp.0   I            conti    764   325         24
## 4    test rksp.0   I        marinelli   1062   420         31
## 5    test rksp.0   I     camillo_rota    106    62          6
## 6    test rksp.0  II  claudia_galotti   1264   482         50
## 7    test rksp.0  II            pirro    366   207         25
## 8    test rksp.0  II          odoardo    622   298         17
## 9    test rksp.0  II           angelo    416   228         19
## 10   test rksp.0  II           emilia   1189   426         28
## 11   test rksp.0  II          appiani   1133   433         48
## 12   test rksp.0  II        marinelli    527   255         28
## 13   test rksp.0 III        marinelli   1857   613         56
## 14   test rksp.0 III        der_prinz    965   404         29
## 15   test rksp.0 III           angelo    262   153          9
## 16   test rksp.0 III         battista    195   111          9
## 17   test rksp.0 III           emilia    417   178         16
## 18   test rksp.0 III  claudia_galotti    641   250         16
## 19   test rksp.0  IV        der_prinz    809   321         30
## 20   test rksp.0  IV        marinelli   1377   501         72
## 21   test rksp.0  IV         battista      8     7          2
## 22   test rksp.0  IV           orsina   2962   791         64
## 23   test rksp.0  IV          odoardo    765   303         30
## 24   test rksp.0  IV  claudia_galotti    232   125          7
## 25   test rksp.0   V        marinelli    837   366         34
## 26   test rksp.0   V        der_prinz    832   330         27
## 27   test rksp.0   V          odoardo   2011   645         61
## 28   test rksp.0   V           emilia    757   273         20
##    utteranceLengthMean utteranceLengthSd firstBegin lastEnd
## 1             41.50704         43.793305        426   26559
## 2              7.00000          5.215362       1149   24954
## 3             31.83333         40.141778       2654   12212
## 4             34.25806         34.466378      13147   23619
## 5             17.66667         19.179851      25577   26914
## 6             25.28000         28.804790      27006   56666
## 7             14.64000         10.719453      27113   50425
## 8             36.58824         42.804875      27385   36244
## 9             21.89474         21.385080      28777   32436
## 10            42.46429         63.801476      36769   48503
## 11            23.60417         25.821597      44452   56735
## 12            18.82143         17.346263      50431   55936
## 13            33.16071         35.842472      56826   79337
## 14            33.27586         49.950616      56914   72918
## 15            29.11111         21.779833      63132   64877
## 16            21.66667         36.441734      67465   75603
## 17            26.06250         27.167306      67517   79537
## 18            40.06250         29.535219      74777   79747
## 19            26.96667         38.991143      79838   95409
## 20            19.12500         21.503316      79972  103998
## 21             4.00000          2.828427      86363   86481
## 22            46.28125         52.298129      88094  112182
## 23            25.50000         20.610928     101533  112733
## 24            33.14286         29.952343     110037  112526
## 25            24.61765         37.334698     112824  134486
## 26            30.81481         37.764490     113752  136067
## 27            32.96721         49.085289     114998  135555
## 28            37.85000         34.351549     128910  134940</code></pre>
<p>Of course, the values in the above table can be directly plotted:</p>
<pre class="sourceCode r"><code class="sourceCode r">charStats &lt;-<span class="st"> </span><span class="kw">characterStatistics</span>(text, <span class="dt">normalize=</span><span class="ot">FALSE</span>)

<span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co"># increase plot margins, so that the labels can be plotted</span>

<span class="kw">barplot</span>(charStats<span class="op">$</span>tokens,  <span class="co"># these are the values to be plotted</span>
        <span class="dt">names.arg =</span> charStats<span class="op">$</span>character, <span class="co"># the labels on the x-axis</span>
        <span class="dt">las=</span><span class="dv">2</span> <span class="co"># rotate the labels on both axes</span>
) </code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<div id="format" class="section level2">
<h2><span class="header-section-number">4.1</span> Character names instead of identifiers</h2>
<p>By default, all our functions identify characters using technical ids, which may or may not be human-readable. Even if they are, it’s usually a good idea to replace them with nice to read labels before publication. We therefore provide the function <a href="https://quadrama.github.io/DramaAnalysis/3.0.0/reference/characterNames.html"><code>characterNames()</code></a>, which can be applied to any table that contains a column with character ids (i.e., any object of type <code>QDHasCharacter</code>).</p>
<pre class="sourceCode r"><code class="sourceCode r">charStats &lt;-<span class="st"> </span><span class="kw">characterStatistics</span>(text, <span class="dt">normalize=</span><span class="ot">FALSE</span>)

charStats &lt;-<span class="st"> </span><span class="kw">characterNames</span>(charStats, text) <span class="co"># Replace ids with names</span>

<span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co"># increase plot margins, so that the labels can be plotted</span>

<span class="kw">barplot</span>(charStats<span class="op">$</span>tokens,  <span class="co"># these are the values to be plotted</span>
        <span class="dt">names.arg =</span> charStats<span class="op">$</span>character, <span class="co"># the labels on the x-axis</span>
        <span class="dt">las=</span><span class="dv">2</span> <span class="co"># rotate the labels on both axes</span>
)</code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>As can be seen above <code>characterNames()</code> requires two arguments: The table in which we want to replace ids by characters, and the original drama object (that we got from calling the function <code>loadDrama()</code>).</p>
</div>
<div id="stacked-bar-plot" class="section level2">
<h2><span class="header-section-number">4.2</span> Stacked bar plot</h2>
<p>The plot shown above is quite wide, and some aspects (like the ranking in terms of spoken tokens), is hard to see. We often use another way of visualizing this, which can be used if you supply the <code>QDCharacterStatistics</code> directly into the <code>barplot()</code> function. In combination with the <code>magrittr</code> pipes (see <a href="basics.html#magrittr">2.2</a>), we can call it like this (enter <code>?barplot.QDCharacterStatistics</code> for details on the special barplot function):</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">characterStatistics</span>(text, <span class="dt">normalize=</span><span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">characterNames</span>(text) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">barplot</span>(<span class="dt">names.arg=</span><span class="kw">dramaNames</span>(text, <span class="st">&quot;%T&quot;</span>))</code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>By default, the <code>barplot.QDCharacterStatistics()</code> function visualises the number of tokens spoken by the characters (and ranks the characters accordingly). This can be changed by supplying the option <code>column</code>, and specifying another value.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">characterStatistics</span>(text, <span class="dt">normalize=</span><span class="ot">FALSE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">characterNames</span>(text) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">barplot</span>(<span class="dt">names.arg=</span><span class="kw">dramaNames</span>(text, <span class="st">&quot;%T&quot;</span>), 
          <span class="dt">column =</span> <span class="st">&quot;utteranceLengthMean&quot;</span>) <span class="co"># show mean utterance length</span></code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>This picture looks quite different! Other interesting columns to experiment with are <code>types</code> and <code>utteranceLengthSd</code>.</p>
<p>Another function that we used above is called <code>dramaNames()</code>. It can be used to extract</p>
</div>
<div id="collection-analysis" class="section level2">
<h2><span class="header-section-number">4.3</span> Collection analysis</h2>
<p>As we have already seen above, the <code>characterStatistics()</code> function works well with multiple texts. This means, we can also use it to analyze all <em>Sturm und Drang</em> plays at once:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># this list can also be loaded using loadSet()</span>
sturm_und_drang.ids &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;qd:11f81.0&quot;</span>, <span class="st">&quot;qd:11g1d.0&quot;</span>, <span class="st">&quot;qd:11g9w.0&quot;</span>, 
                         <span class="st">&quot;qd:11hdv.0&quot;</span>, <span class="st">&quot;qd:nds0.0&quot;</span>, <span class="st">&quot;qd:r12k.0&quot;</span>, 
                         <span class="st">&quot;qd:r12v.0&quot;</span>, <span class="st">&quot;qd:r134.0&quot;</span>,  <span class="st">&quot;qd:r13g.0&quot;</span>, 
                         <span class="st">&quot;qd:rfxf.0&quot;</span>,  <span class="st">&quot;qd:rhtz.0&quot;</span>, <span class="st">&quot;qd:rhzq.0&quot;</span>, 
                         <span class="st">&quot;qd:rj22.0&quot;</span>, <span class="st">&quot;qd:tx4z.0&quot;</span>, <span class="st">&quot;qd:tz39.0&quot;</span>, 
                         <span class="st">&quot;qd:tzgk.0&quot;</span>, <span class="st">&quot;qd:v0fv.0&quot;</span>, <span class="st">&quot;qd:wznj.0&quot;</span>, 
                         <span class="st">&quot;qd:tx4z.0&quot;</span>, <span class="st">&quot;qd:rfxf.0&quot;</span>)

sturm_und_drang.plays &lt;-<span class="st"> </span><span class="kw">loadDrama</span>(sturm_und_drang.ids)

<span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">30</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">1</span>))
<span class="kw">characterStatistics</span>(sturm_und_drang.plays, <span class="dt">normalize=</span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">characterNames</span>(sturm_und_drang.plays) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">barplot</span>(<span class="dt">las=</span><span class="dv">2</span>, <span class="dt">names.arg =</span> <span class="kw">dramaNames</span>(sturm_und_drang.plays, 
                                        <span class="dt">formatString =</span> <span class="st">&quot;%A: %T&quot;</span>))</code></pre>
<p><img src="DramaAnalysis_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>While readability can certainly be improved upon, we can directly see that the relative active presence of the characters is distributed very differently in different plays. The most “talkative” character in Klinger’s <em>Zwillinge</em>, for instance, speaks almost one half of the words in the play, while Wenzelslaus in Lenz’ <em>Hofmeister</em> speaks much less, even in relative terms.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="who-how-often.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

</body>

</html>
